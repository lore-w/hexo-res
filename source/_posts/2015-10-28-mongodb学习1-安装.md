---
title: "mongodb学习1-安装"
date: 2015-10-28 09:37:43
tags: [mongodb,非关系型数据库]
categories: 数据库
---

![](/images/2015/mongodb.png)

MongoDB is the next-generation database that lets you create applications never before possible.

<!--more-->

下载、安装、配置环境变量省略...

### mongod

在E盘下新建一个data目录用于存放数据库文件

```bash
$ mongod --dbpath E:\data
```

run...

### mongo

```bash
$ mongo 127.0.0.1:27017
```
显示以下信息，表示数据库链接成功

```bash
connecting to: test
Welcome to the MongoDB shell.
```

&失败是这样的 ↓ ↓

```bash
Hotfix KB2731284 or later update is not installed, will zero-out data files MongoDB shell version: 3.0.2 connecting to: test
```
**并且shell中不可以继续输入，需要把数据库文件保存位置指向mongodb的安装目录（与bin目录同级）重新`mongod --dbpath`**

### 简单的几个命令

**链接数据库的同一shell中**

```bash
$ use demo
```
切换到demo数据库（如果没有会被新建，但是并没有被保存，只是放在mongodb的缓冲池中，退出就会被销毁）

```bash
$ db.persons.insert({name: "lore-w", age: 27});
```
在当前数据库（这里表示demo）中新建一个persons的文档集，然后插入一条数据`{name: "lore-w", age: 27}`

```bash
$ show dbs
```
查看数据库

```bash
$ show collections
```
查看当前数据库的文档集

```bash
$ db.persons.update({name: "lore-w"},{$set: {age: 28}});
```
找到姓名为lore-w的这一条，把age更新为28

```bash
$ db.persons.find()
```
查看persons文档集中的记录

```bash
$ db.persons.findOne()
```
查看persons文档集中的第一条记录

```bash
$ db.persons.remove({name: "lore-w"});
```
删除persons文档集中姓名为lore-w的这条记录
